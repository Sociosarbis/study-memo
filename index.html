<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  

  
  <title>a house in the woods</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta property="og:type" content="website">
<meta property="og:title" content="a house in the woods">
<meta property="og:url" content="https://sociosarbis.github.io/study-memo/index.html">
<meta property="og:site_name" content="a house in the woods">
<meta property="og:locale" content="zh">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="a house in the woods">
  
    <link rel="alternate" href="/study-memo/atom.xml" title="a house in the woods" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/study-memo/css/style.css">
</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/study-memo/" id="logo">a house in the woods</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/study-memo/">Home</a>
        
          <a class="main-nav-link" href="/study-memo/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/study-memo/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="https://sociosarbis.github.io/study-memo"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main">
  
    <article id="post-web-front-end-knowledge-memo(Algorithm)-ep1" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/study-memo/2019/11/04/web-front-end-knowledge-memo(Algorithm)-ep1/" class="article-date">
  <time datetime="2019-11-04T14:32:15.668Z" itemprop="datePublished">2019-11-04</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/study-memo/2019/11/04/web-front-end-knowledge-memo(Algorithm)-ep1/">web前端知识学习笔记-算法篇(1)</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="下面的内容为排序算法逻辑的摘要，主要目的是方便本人记忆"><a href="#下面的内容为排序算法逻辑的摘要，主要目的是方便本人记忆" class="headerlink" title="下面的内容为排序算法逻辑的摘要，主要目的是方便本人记忆"></a>下面的内容为排序算法逻辑的摘要，主要目的是方便本人记忆</h2><p><strong>1. 归并排序（merge sort）</strong><br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">sort(originalArray) &#123;</span><br><span class="line">     <span class="comment">// 当array的规模小于等于1时结束分治</span></span><br><span class="line">     <span class="keyword">if</span> (originalArray.length &lt;= <span class="number">1</span>) &#123;</span><br><span class="line">      <span class="keyword">return</span> originalArray;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 从中间分开左右两个子数组</span></span><br><span class="line">     <span class="keyword">const</span> leftArray = originalArray.slice(<span class="number">0</span>, middleIndex);</span><br><span class="line">     <span class="keyword">const</span> rightArray = originalArray.slice(middleIndex, originalArray.length);</span><br><span class="line">     </span><br><span class="line">     <span class="keyword">const</span> leftSortedArray = sort(leftArray);</span><br><span class="line">     <span class="keyword">const</span> rightSortedArray = sort(rightArray);</span><br><span class="line"></span><br><span class="line">     <span class="comment">// 每次从左右两个已排好序的数组选取出一个最小的元素，加入结果数组</span></span><br><span class="line">     <span class="keyword">while</span> (leftArray.length &amp;&amp; rightArray.length) &#123;</span><br><span class="line">      <span class="keyword">if</span> (leftArray[<span class="number">0</span>] &lt; rightArray[<span class="number">0</span>]) &#123;</span><br><span class="line">        minimumElement = leftArray.shift();</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        minimumElement = rightArray.shift();</span><br><span class="line">      &#125;</span><br><span class="line">      sortedArray.push(minimumElement);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p><strong>2. 快速排序（quick sort）</strong></p>
<ol>
<li><p>非原地</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">sort(array) &#123;</span><br><span class="line">     <span class="keyword">const</span> pivotElement = array.shift();</span><br><span class="line">     <span class="comment">// 根据与基准的大小关系，把元素归入到左，中，右三个子数组</span></span><br><span class="line">     <span class="keyword">while</span> (array.length) &#123;</span><br><span class="line">          <span class="keyword">const</span> currentElement = array.shift();</span><br><span class="line">          <span class="keyword">if</span> ((currentElement === pivotElement)) &#123;</span><br><span class="line">          centerArray.push(currentElement);</span><br><span class="line">          &#125; <span class="keyword">else</span> <span class="keyword">if</span> (currentElement &lt; pivotElement)) &#123;</span><br><span class="line">          leftArray.push(currentElement);</span><br><span class="line">          &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">          rightArray.push(currentElement);</span><br><span class="line">          &#125;</span><br><span class="line">     &#125;</span><br><span class="line"></span><br><span class="line">     <span class="comment">// 左右两数组在其内部进行排序</span></span><br><span class="line">     <span class="keyword">const</span> leftArraySorted = sort(leftArray);</span><br><span class="line">     <span class="keyword">const</span> rightArraySorted = sort(rightArray);</span><br><span class="line"></span><br><span class="line">     <span class="comment">// 合并左中右三个子数组</span></span><br><span class="line">     leftArraySorted.concat(centerArray, rightArraySorted);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>原地</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">sort(array, inputLowIndex = <span class="number">0</span>, inputHighIndex = array.length - <span class="number">1</span>) &#123;</span><br><span class="line">     <span class="keyword">if</span> (inputLowIndex &lt; inputHighIndex) &#123;</span><br><span class="line">      <span class="keyword">let</span> partitionIndex = inputLowIndex;</span><br><span class="line">      <span class="keyword">const</span> pivot = array[highIndex];</span><br><span class="line">      <span class="comment">// 把小于最右元素的元素与partitionIndex指向的元素交换位置</span></span><br><span class="line">      <span class="keyword">for</span> (<span class="keyword">let</span> currentIndex = lowIndex; currentIndex &lt; highIndex; currentIndex += <span class="number">1</span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> (array[currentIndex] &lt; pivot) &#123;</span><br><span class="line">          swap(partitionIndex, currentIndex);</span><br><span class="line">          partitionIndex += <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">      swap(partitionIndex, highIndex);</span><br><span class="line">      <span class="comment">// 以partitionIndex作为分界点，分开左右范围进行排序</span></span><br><span class="line">      sort(array, inputLowIndex, partitionIndex - <span class="number">1</span>);</span><br><span class="line">      sort(array, partitionIndex + <span class="number">1</span>, inputHighIndex);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ol>
<p><strong>3. 堆排序</strong><br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 构建最小堆</span></span><br><span class="line"><span class="comment">// 每次取出堆顶元素，然后把堆中最后的元素放到堆顶，根据规则，重新建立最小堆</span></span><br><span class="line">leftChildIndex(parentIndex) &#123;</span><br><span class="line">     <span class="keyword">return</span> (<span class="number">2</span> * parentIndex) + <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line">rightChildIndex(parentIndex) &#123;</span><br><span class="line">     <span class="keyword">return</span> (<span class="number">2</span> * parentIndex) + <span class="number">2</span>;</span><br><span class="line">&#125;</span><br><span class="line">parentIndex(childIndex) &#123;</span><br><span class="line">     <span class="keyword">return</span> <span class="built_in">Math</span>.floor((childIndex - <span class="number">1</span>) / <span class="number">2</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 从最后一个元素开始确认父元素是否小于子元素</span></span><br><span class="line">heapifyUp() &#123;</span><br><span class="line">     <span class="keyword">let</span> currentIndex = heapContainer.length - <span class="number">1</span></span><br><span class="line">     <span class="keyword">while</span>(hasParent(currentIndex) &amp;&amp; heapContainer[parentIndex] &gt; heapContainer[currentIndex]) &#123;</span><br><span class="line">          swap(heapContainer, currentIndex, parentIndex);</span><br><span class="line">          currentIndex = parentIndex</span><br><span class="line">     &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 从第一个元素开始确认父元素是否小于子元素</span></span><br><span class="line">heapifyDown() &#123;</span><br><span class="line">    <span class="keyword">let</span> currentIndex = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">let</span> nextIndex = <span class="literal">null</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> (<span class="keyword">this</span>.hasLeftChild(currentIndex)) &#123;</span><br><span class="line">      <span class="keyword">if</span> (</span><br><span class="line">        <span class="keyword">this</span>.hasRightChild(currentIndex)</span><br><span class="line">        &amp;&amp; rightChild &gt; leftChild)</span><br><span class="line">      ) &#123;</span><br><span class="line">        nextIndex = getRightChildIndex(currentIndex);</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        nextIndex = getLeftChildIndex(currentIndex);</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      <span class="keyword">if</span> (heapContainer[currentIndex] &lt; heapContainer[nextIndex]) &#123;</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      swap(heapContainer, currentIndex, nextIndex);</span><br><span class="line">      currentIndex = nextIndex;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">add(item) &#123;</span><br><span class="line">     heapContainer.push(item)</span><br><span class="line">     heapifyUp()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 从最小堆中取出堆顶，就是poll这个操作</span></span><br><span class="line">poll() &#123;</span><br><span class="line">     <span class="keyword">const</span> item = heapContainer[<span class="number">0</span>]</span><br><span class="line">     heapContainer[<span class="number">0</span>] = heapContainer.pop()</span><br><span class="line">     heapifyDown()</span><br><span class="line">     <span class="keyword">return</span> item</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p><a href="https://github.com/trekhleb/javascript-algorithms" target="_blank" rel="noopener">代码来源</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://sociosarbis.github.io/study-memo/2019/11/04/web-front-end-knowledge-memo(Algorithm)-ep1/" data-id="ck2kmdq5g0000z8u188nxtz11" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/study-memo/tags/algorithm/">algorithm</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/study-memo/tags/interview/">interview</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/study-memo/tags/sorting/">sorting</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-web-front-end-knowledge-memo(Network)-ep1" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/study-memo/2019/11/03/web-front-end-knowledge-memo(Network)-ep1/" class="article-date">
  <time datetime="2019-11-03T13:03:28.048Z" itemprop="datePublished">2019-11-03</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/study-memo/2019/11/03/web-front-end-knowledge-memo(Network)-ep1/">web前端知识学习笔记-网络篇(1)</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="HTTP处于TCP-IP（互联网协议套件）的应用层，是一种无状态的协议。"><a href="#HTTP处于TCP-IP（互联网协议套件）的应用层，是一种无状态的协议。" class="headerlink" title="HTTP处于TCP/IP（互联网协议套件）的应用层，是一种无状态的协议。"></a>HTTP处于TCP/IP（互联网协议套件）的应用层，是一种无状态的协议。</h3><p><strong>（我的理解是无状态协议表示，每次请求应答都是独立的，不需要保证是否按顺序收发，不会维护client和server的状态，单次请求应答完成以后自动结束）</strong></p>
<h3 id="一次HTTP操作简化流程"><a href="#一次HTTP操作简化流程" class="headerlink" title="一次HTTP操作简化流程"></a>一次HTTP操作简化流程</h3><ol>
<li>发送HTTP请求（浏览器输入地址或XHR等方式）</li>
<li>通过DNS获取请求地址对应的IP地址</li>
<li>通过TCP/IP，与目标地址建立起TCP连接</li>
<li>TCP连接发送客户端的HTTP请求报文</li>
<li>客户端通过TCP连接发送HTTP应答报文</li>
<li>TCP连接关闭，如果HTTP请求报头中设置了<code>Connection:keep-alive</code>，则TCP会继续保持连接</li>
</ol>
<p><strong>值得注意的是keep-alive虽然是通过HTTP的报头设置的，但是实际执行的是在TCP中，所以不与HTTP是无状态的冲突</strong></p>
<p><strong>短连接</strong>是无<code>keep-alive</code>，请求完成以后，TCP自动关闭；<br><strong>长连接</strong>则相反。</p>
<p><strong>管线化（with pipelining）</strong>是指长连接中客户端无需等待上一次请求完成，再去做第二次请求，<strong>非管线化（without pipelining）</strong>则需要做这样的等待。<br><em>但实际上没有看过非管线化的情况（如果有，还请热心告诉我）</em></p>
<h3 id="格式示意图"><a href="#格式示意图" class="headerlink" title="格式示意图"></a>格式示意图</h3><p>请求报文：<br><img src="css/images/http-request-format.png" alt=""></p>
<p>响应报文：<br><img src="css/images/http-response-format.png" alt=""><br><a href="https://juejin.im/post/5ad4465d6fb9a028da7d0117" target="_blank" rel="noopener">图片来源</a></p>
<h3 id="常见的响应的状态码"><a href="#常见的响应的状态码" class="headerlink" title="常见的响应的状态码"></a>常见的响应的状态码</h3><p><strong>200</strong>(OK) <strong>客户端发过来的数据被正常处理</strong></p>
<p><strong>204</strong>(Not Content) <strong>正常响应，没有实体</strong></p>
<p><strong>206</strong>(Partial Content) <strong>范围请求，返回部分数据，响应报文中由Content-Range指定实体内容</strong></p>
<hr>
<p><strong>301</strong>(Moved Permanently) <strong>永久重定向</strong></p>
<p><strong>302</strong>(Found) <strong>临时重定向，重定向后的请求方法可作改变</strong></p>
<p><strong>303</strong>(See Other) <strong>重定向后的请求方法变为GET</strong></p>
<p><strong>304</strong>(Not Modified) <strong>状态未改变， 配合(If-Match、If-Modified-Since、If-None_Match、If-Range、If-Unmodified-Since)，与<em>HTTP缓存</em>相关</strong></p>
<p><strong>307</strong>(Temporary Redirect) <strong>临时重定向，不应改变其请求方法</strong></p>
<hr>
<p><strong>400</strong>(Bad Request) <strong>请求报文语法错误</strong></p>
<p><strong>401</strong>(unauthorized) <strong>需要认证</strong></p>
<p><strong>403</strong>(Forbidden) <strong>服务器拒绝访问对应的资源</strong></p>
<p><strong>404</strong>(Not Found) <strong>服务器上无法找到资源</strong></p>
<p><strong><em>401跟403不同的地方是，401可能是因为你没有登录，而403表示可能你没有相关的权限，有一次我通过npm发布包，错误提示403，我还错误地想是不是因为我没有登录呢，实际上是我的包名含有private scope，而我没有权限导致的</em></strong></p>
<hr>
<p><strong>500</strong>(Internal Server Error)<strong>服务器故障</strong></p>
<p><strong>503</strong>(Service Unavailable) <strong>服务器处于超负载或正在停机维护</strong></p>
<h4 id="从维基百科的配图中，虽然是说明UDP的，但也可以看出在TCP-IP层间传输中，大致存在这样的迭代关系"><a href="#从维基百科的配图中，虽然是说明UDP的，但也可以看出在TCP-IP层间传输中，大致存在这样的迭代关系" class="headerlink" title="从维基百科的配图中，虽然是说明UDP的，但也可以看出在TCP/IP层间传输中，大致存在这样的迭代关系"></a>从维基百科的配图中，虽然是说明UDP的，但也可以看出在TCP/IP层间传输中，大致存在这样的迭代关系</h4><p>(<strong>n</strong>表示层序)</p>
<p><img src="https://latex.codecogs.com/png.latex?packet_%7Bn%20-%201%7D%20%3D%20header_%7Bn%20-%201%7D%20&plus;%20packet_%7Bn%7D" alt=""></p>
<p><img src="css/images/UDP_encapsulation.png" alt=""></p>
<p><em>本文内容大部分基于<a href="">5分钟让你明白HTTP协议</a><a href="https://juejin.im/post/5ad4465d6fb9a028da7d0117" target="_blank" rel="noopener">https://juejin.im/post/5ad4465d6fb9a028da7d0117</a></em></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://sociosarbis.github.io/study-memo/2019/11/03/web-front-end-knowledge-memo(Network)-ep1/" data-id="ck2j41eix000058u1finzi36v" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/study-memo/tags/HTTP/">HTTP</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/study-memo/tags/interview/">interview</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-web-front-end-knowledge-memo(JS)-ep3" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/study-memo/2019/11/02/web-front-end-knowledge-memo(JS)-ep3/" class="article-date">
  <time datetime="2019-11-02T13:41:15.157Z" itemprop="datePublished">2019-11-02</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/study-memo/2019/11/02/web-front-end-knowledge-memo(JS)-ep3/">web前端知识学习笔记-JS篇(3)</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="变量提升与函数提升"><a href="#变量提升与函数提升" class="headerlink" title="变量提升与函数提升"></a>变量提升与函数提升</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">outter</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> inner;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">inner</span> (<span class="params"></span>) </span>&#123;&#125;</span><br><span class="line">    <span class="keyword">var</span> inner;</span><br><span class="line">    inner = <span class="number">9</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">typeof</span> outter() <span class="comment">// 'function';</span></span><br></pre></td></tr></table></figure>
<p>变量提升和函数提升指的是JS预编译的一个操作。</p>
<p>首先对于<code>var</code>声明的变量，只存在全局作用域和函数作用域，不像<code>let</code>和<code>const</code>还有块作用域。</p>
<ol>
<li>变量提升（指<code>var</code>声明的变量）指的是作用域内出现的变量声明会把声明放到作用域的开头</li>
<li>函数提升是指除了1外的操作，还会把函数提前赋值给变量</li>
</ol>
<p>根据上面两个规则，上面的代码经预编译会变成如下形式：<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">outter</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> inner;</span><br><span class="line">    inner = <span class="function"><span class="keyword">function</span> <span class="title">inner</span>(<span class="params"></span>) </span>&#123;&#125;</span><br><span class="line">    <span class="keyword">return</span> inner;</span><br><span class="line">    inner = <span class="number">9</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://sociosarbis.github.io/study-memo/2019/11/02/web-front-end-knowledge-memo(JS)-ep3/" data-id="ck2hm7onj00326gu1kh9ynzed" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/study-memo/tags/hoisting/">hoisting</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/study-memo/tags/interview/">interview</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/study-memo/tags/javascript/">javascript</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-web-front-end-knowledge-memo(JS)-ep2" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/study-memo/2019/11/02/web-front-end-knowledge-memo(JS)-ep2/" class="article-date">
  <time datetime="2019-11-02T13:30:29.482Z" itemprop="datePublished">2019-11-02</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/study-memo/2019/11/02/web-front-end-knowledge-memo(JS)-ep2/">web前端知识学习笔记-JS篇(2)</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="立即执行函数（immediatly-invoked-function-expression）"><a href="#立即执行函数（immediatly-invoked-function-expression）" class="headerlink" title="立即执行函数（immediatly invoked function expression）"></a>立即执行函数（immediatly invoked function expression）</h2><p>从题目总结其性质</p>
<ol>
<li><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> a = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">const</span> b = <span class="number">30</span>;</span><br><span class="line">(<span class="function"><span class="keyword">function</span> <span class="title">a</span>(<span class="params">b</span>) </span>&#123;</span><br><span class="line">     a = <span class="number">10</span>;</span><br><span class="line">     b = <span class="number">20</span>;</span><br><span class="line">     <span class="built_in">console</span>.log(a)</span><br><span class="line">     <span class="built_in">console</span>.log(b);</span><br><span class="line">&#125;(<span class="number">10</span>))</span><br></pre></td></tr></table></figure>
</li>
</ol>
<p>总结：这里会输出a函数定义和20。</p>
<ol>
<li>性质一，IIFE的函数名，不会在括号外出现声明，所以不会与<code>const a</code>产生冲突错误。</li>
<li>IIFE的函数名可看作是<code>const</code>，对其再赋值会无效，在严格模式下会报错。</li>
</ol>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://sociosarbis.github.io/study-memo/2019/11/02/web-front-end-knowledge-memo(JS)-ep2/" data-id="ck2hltwrb002n6gu1fghepfqg" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/study-memo/tags/IIFE/">IIFE</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/study-memo/tags/interview/">interview</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/study-memo/tags/javascript/">javascript</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/study-memo/tags/立即执行函数/">立即执行函数</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-web-front-end-knowledge-memo(JS)-ep1" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/study-memo/2019/11/02/web-front-end-knowledge-memo(JS)-ep1/" class="article-date">
  <time datetime="2019-11-02T13:18:18.384Z" itemprop="datePublished">2019-11-02</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/study-memo/2019/11/02/web-front-end-knowledge-memo(JS)-ep1/">web前端知识学习笔记-JS篇(1)</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>一条关于setTimeout和promise的执行顺序的题目。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'1'</span>);</span><br><span class="line"></span><br><span class="line">setTimeout(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">     <span class="built_in">console</span>.log(<span class="string">'2'</span>);</span><br><span class="line">     <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="keyword">function</span>(<span class="params">resolve</span>) </span>&#123;</span><br><span class="line">          <span class="built_in">console</span>.log(<span class="string">'3'</span>);</span><br><span class="line">          resolve();</span><br><span class="line">     &#125;).then(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">           <span class="built_in">console</span>.log(<span class="string">'4'</span>)</span><br><span class="line">&#125;)</span><br><span class="line">&#125;, <span class="number">1</span>)</span><br><span class="line"><span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="keyword">function</span>(<span class="params">resolve</span>) </span>&#123;</span><br><span class="line">     <span class="built_in">console</span>.log(<span class="string">'5'</span>);</span><br><span class="line">     resolve();</span><br><span class="line">&#125;).then(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">'6'</span>)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">setTimeout(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">     <span class="built_in">console</span>.log(<span class="string">'7'</span>);</span><br><span class="line">     <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="keyword">function</span>(<span class="params">resolve</span>) </span>&#123;</span><br><span class="line">          <span class="built_in">console</span>.log(<span class="string">'8'</span>);</span><br><span class="line">          resolve();</span><br><span class="line">     &#125;).then(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">'9'</span>)</span><br><span class="line">     &#125;)</span><br><span class="line">&#125;, <span class="number">2</span>)</span><br></pre></td></tr></table></figure></p>
<p>在浏览器中，其正确顺序是1,5,6,2,3,4,7,8,9<br>相关知识可以参照<a href="https://medium.com/@Rahulx1/understanding-event-loop-call-stack-event-job-queue-in-javascript-63dcd2c71ecd" target="_blank" rel="noopener">Understanding Event Loop, Call Stack, Event &amp; Job Queue in Javascript</a></p>
<p>简单总结就是</p>
<ol>
<li>先执行所有的同步代码，异步代码会放到eventloop执行, setTimeout会放到callback queue, promise会放到job queue</li>
<li>进入事件循环</li>
<li>执行job queue的代码，当promise是一个立刻resolve的promise，then产生的promise会在此时放到job queue，由于job queue中有这一步放置的task，所以会继续执行job queue，而不是跳到callback queue中</li>
<li>再执行callback queue的代码</li>
</ol>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://sociosarbis.github.io/study-memo/2019/11/02/web-front-end-knowledge-memo(JS)-ep1/" data-id="ck2hlelfk00256gu16km95max" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/study-memo/tags/eventloop/">eventloop</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/study-memo/tags/interview/">interview</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/study-memo/tags/javascript/">javascript</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/study-memo/tags/promise/">promise</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/study-memo/tags/setTimeout/">setTimeout</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-web-front-end-knowledge-memo(HTML)-ep2" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/study-memo/2019/11/02/web-front-end-knowledge-memo(HTML)-ep2/" class="article-date">
  <time datetime="2019-11-02T12:47:53.354Z" itemprop="datePublished">2019-11-02</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/study-memo/2019/11/02/web-front-end-knowledge-memo(HTML)-ep2/">web前端知识学习笔记-HTML篇(2)</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>移动端的适配离不开meta标签的viewport设置，比较常见的设置<br><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"viewport"</span> <span class="attr">content</span>=<span class="string">"width=device-width, initial-scale=1.0"</span> /&gt;</span></span><br></pre></td></tr></table></figure></p>
<p>属性：</p>
<ol>
<li>width表示将document内容宽度设为width制定的数值，可填具体数值，如640，或device-width（表示device indepent pixel,简称DIP）</li>
<li>intial-scale, minimum-scale, maximum-scale，表示将可视窗口或者简单理解window.innerWidth，设为<code>DIP / scale</code>，例如当width设为640，而intial-scale设为2.0，那么<code>window.innerWidth === 320</code>，那么窗口内只能看到所有内容的一半。</li>
<li><p>关于刘海屏的适配，最开始由ios提出增加一个叫做viewport-fit的属性，一般可用contain 和 cover两个值，<br>具体效果可以看下面的示意图:</p>
<ol>
<li><strong>contain</strong></li>
</ol>
<p><img src="css/images/viewport-fit-contain.png" alt="contain"></p>
<ol start="2">
<li><strong>cover</strong></li>
</ol>
<p><img src="css/images/viewport-fit-contain.png" alt="cover"></p>
<p><a href="https://medium.com/@bobtung/%E9%9D%A2%E5%B0%8Diphone-x-web%E8%A8%AD%E8%A8%88%E5%B8%AB%E9%9C%80%E8%A6%81%E7%9F%A5%E9%81%93%E7%9A%84%E5%B9%BE%E5%80%8Bcss%E5%B1%AC%E6%80%A7-b7c03b314c6a" target="_blank" rel="noopener">图片来源</a></p>
</li>
</ol>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://sociosarbis.github.io/study-memo/2019/11/02/web-front-end-knowledge-memo(HTML)-ep2/" data-id="ck2hl4c8k000c6gu1m18hirmn" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/study-memo/tags/HTML/">HTML</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/study-memo/tags/interview/">interview</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/study-memo/tags/meta/">meta</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/study-memo/tags/viewport/">viewport</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-web-front-end-knowledge-memo(HTML)-ep1" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/study-memo/2019/11/02/web-front-end-knowledge-memo(HTML)-ep1/" class="article-date">
  <time datetime="2019-11-02T12:27:25.214Z" itemprop="datePublished">2019-11-02</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/study-memo/2019/11/02/web-front-end-knowledge-memo(HTML)-ep1/">web前端知识学习笔记-HTML篇(1)</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="语义化，英文为semantics。"><a href="#语义化，英文为semantics。" class="headerlink" title="语义化，英文为semantics。"></a>语义化，英文为semantics。</h3><h3 id="根据MDN上的介绍，语义化的优点有"><a href="#根据MDN上的介绍，语义化的优点有" class="headerlink" title="根据MDN上的介绍，语义化的优点有"></a>根据MDN上的介绍，语义化的优点有</h3><ol>
<li>在SEO中会有较高权重</li>
<li>方便视觉障碍人士阅读页面</li>
<li>方便查找有特定意义的标签</li>
<li>提示开发者生成的数据类型</li>
<li>语义化仿照与自定义组件的命名</li>
</ol>
<h3 id="常见的新语义化标签"><a href="#常见的新语义化标签" class="headerlink" title="常见的新语义化标签"></a>常见的新语义化标签</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">article</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">aside</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">details</span>&gt;</span> <span class="comment">&lt;!--与summary一起使用，点击details显示summary的内容--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">summary</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">figcaption</span>&gt;</span> <span class="comment">&lt;!--图片说明--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">figure</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">footer</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">header</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">main</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">mark</span>&gt;</span> <span class="comment">&lt;!--高亮，默认为黄色背景--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">nav</span>&gt;</span> <span class="comment">&lt;!--导航--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">section</span>&gt;</span> </span><br><span class="line"><span class="tag">&lt;<span class="name">time</span>&gt;</span> <span class="comment">&lt;!--时间--&gt;</span></span><br></pre></td></tr></table></figure>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://sociosarbis.github.io/study-memo/2019/11/02/web-front-end-knowledge-memo(HTML)-ep1/" data-id="ck2hl4c8i000b6gu10rhyaotu" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/study-memo/tags/HTML/">HTML</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/study-memo/tags/interview/">interview</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/study-memo/tags/语义化/">语义化</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-web-front-end-knowledge-memo(CSS)-ep1" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/study-memo/2019/11/02/web-front-end-knowledge-memo(CSS)-ep1/" class="article-date">
  <time datetime="2019-11-02T07:59:25.623Z" itemprop="datePublished">2019-11-02</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/study-memo/2019/11/02/web-front-end-knowledge-memo(CSS)-ep1/">web前端知识学习笔记-CSS篇(1)</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <ol>
<li>一列自适应，一列固定的两列布局实现。<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 浮动脱离文档流 */</span></span><br><span class="line"><span class="selector-class">.left</span> &#123;</span><br><span class="line">  <span class="attribute">margin-right</span>: <span class="number">20px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.right</span> &#123;</span><br><span class="line">  <span class="attribute">float</span>: right;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ol>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--注意right要放在left前，float不占用空间的效果只对其后</span></span><br><span class="line"><span class="comment">的一个元素有效</span></span><br><span class="line"><span class="comment">--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"right"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"left"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 或使用flex */</span></span><br><span class="line"><span class="selector-class">.container</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: flex;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">100%</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.left</span> &#123;</span><br><span class="line">  <span class="attribute">flex</span>: <span class="number">1</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">100%</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.right</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">20px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">100%</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ol start="2">
<li>宽度为相对数值的正方形<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 如果相对的是window可用 */</span></span><br><span class="line"><span class="selector-class">.square</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">45vw</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">45vw</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* 更通用的是使用padding来填充高度，因为padding的相对的是width*/</span></span><br><span class="line"><span class="selector-class">.square</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">45%</span>;</span><br><span class="line">  <span class="attribute">padding-bottom</span>: <span class="number">100%</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ol>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://sociosarbis.github.io/study-memo/2019/11/02/web-front-end-knowledge-memo(CSS)-ep1/" data-id="ck2hl4c8e00086gu1p6cai9mh" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/study-memo/tags/CSS/">CSS</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/study-memo/tags/interview/">interview</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-myer-diff" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/study-memo/2019/10/21/myer-diff/" class="article-date">
  <time datetime="2019-10-21T14:07:44.329Z" itemprop="datePublished">2019-10-21</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/study-memo/2019/10/21/myer-diff/">Myer&#39;s Diff algorithm</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>本文主要参考自<a href="http://simplygenius.net/Article/DiffTutorial1" target="_blank" rel="noopener">Myers’ Diff Algorithm(1)</a>（算法原理）和</p>
<p><a href="http://simplygenius.net/Article/DiffTutorial2" target="_blank" rel="noopener">Myers’ Diff Algorithm(2)</a>（优化后的算法）这两篇文章，</p>
<p>根据自己的理解对算法步骤进行说明。原论文（<a href="http://www.grantjenks.com/wiki/_media/ideas:diffalgorithmlcs.pdf）。" target="_blank" rel="noopener">http://www.grantjenks.com/wiki/_media/ideas:diffalgorithmlcs.pdf）。</a><br><strong>在本文中出现的名词如：</strong></p>
<ul>
<li><strong>snake</strong></li>
<li><strong>diagonal k（对角线k）</strong></li>
<li><strong>edit graph（编辑图）</strong></li>
<li><strong>furthest reaching point（最远到达点，实则为编辑图的横坐标）</strong></li>
<li><strong>V[k]（记录对角线k的最远到达点）</strong></li>
<li><strong>edit script（编辑路径）</strong><br>可在上述的参考文章中找到说明。<br><strong>算法的思想建基于:</strong></li>
</ul>
<ol>
<li>最短编辑距离的路径会包含一条有最远到达点的对角线</li>
<li>编辑路径D（D表示编辑长度）与对角线k的关系为<img src="https://latex.codecogs.com/gif.latex?k%20%5Cin%20%5B-D%2C-D%20&plus;%202%2C...%2CD%5D" alt=""><br><strong>注意编辑图的（0, 0）点不表示字符串A和B各自的第一个字符, 而是表示没有任何字符编辑的出发点</strong></li>
</ol>
<h3 id="algorithm1"><a href="#algorithm1" class="headerlink" title="algorithm1"></a>algorithm1</h3><p>初步的算法<strong>（在文章1中）</strong>就是从0开始到最大D循环，从每个D中拿到对角线k的序列，进行INSERT（B向前一步）或DELETE（A向前一步）的编辑。</p>
<p>看看后面的字符是否相同，如果相同则A和B的各向前一步；</p>
<p>如果不同则把当前的横坐标记回到V[k]中。如当前坐标到达边界，则当前的D就为最短编辑路径。</p>
<h3 id="algorithm2"><a href="#algorithm2" class="headerlink" title="algorithm2"></a>algorithm2</h3><ol start="2">
<li><p>在文章2中介绍了1中的算法的优化，它包含了分治的思想。<br>概括地说是</p>
<ol>
<li>记A B长度的差delta为N - M</li>
<li>从起始点正向执行1中的算法和从终点反向执行，它们的V[k]分别记为VForward[k]和VBackward[k]</li>
<li>当VForward[k] &gt; VBackward[k]时停止迭代，同时需要满足当delta为奇数时，<img src="https://latex.codecogs.com/gif.latex?D_%7Bbackward%7D%20%3D%20D_%7Bforward%7D%20-%201" alt="">,迭代要在Forward处结束；<br>当delta为偶数时<img src="https://latex.codecogs.com/gif.latex?D_%7Bbackward%7D%20%3D%20D_%7Bforward%7D%20" alt="">，迭代要在Backward时结束。</li>
<li>结束3中的最后一次迭代的路径称为middle snake，在原论文中证明middle snake为最短编辑路径的子路径</li>
<li>根据middle snake（左上角和上一次的出发点）和（右下角和上一次的终点）把编辑图分成左上和右下两个子图，这两个子问题。</li>
</ol>
<p>再重复执行这个这个算法，直到子问题的D不大于1，或者任意子字符串的长度等于0为止。</p>
</li>
<li><p>下面是应用算法2以求出从A到B字符串编辑操作的代码。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 操作类型</span></span><br><span class="line"><span class="keyword">const</span> RETAIN = <span class="string">'retain'</span> <span class="comment">// 保留A和B的字符</span></span><br><span class="line"><span class="keyword">const</span> INSERT = <span class="string">'insert'</span> <span class="comment">// 插入B字符，在图中表示为垂直移动</span></span><br><span class="line"><span class="keyword">const</span> DELETE = <span class="string">'delete'</span> <span class="comment">// 删除A字符，在途中表示为水平移动</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">calcMiddleSnake</span>(<span class="params">A, a0, N, B, b0, M, VForward, VBackward</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> delta = N - M</span><br><span class="line">  <span class="keyword">const</span> maxD = <span class="built_in">Math</span>.floor((N + M + <span class="number">1</span>) / <span class="number">2</span>)</span><br><span class="line">  <span class="comment">//初始化V序列</span></span><br><span class="line">  VForward[<span class="number">1</span>] = <span class="number">0</span></span><br><span class="line">  <span class="comment">//初始的时候从delta - 1的对角线开始</span></span><br><span class="line">  VBackward[N - M - <span class="number">1</span>] = N</span><br><span class="line">  <span class="keyword">const</span> isOdd = <span class="built_in">Boolean</span>(delta &amp; <span class="number">1</span>)</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> d = <span class="number">0</span>; d &lt;= maxD; d++) &#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> k = -d; k &lt;= d; k += <span class="number">2</span>) &#123;</span><br><span class="line">      <span class="comment">// k为-d时必为向下，k为d时必为向右，其余情况选择V序列较大的方向，这里的方向表示从Kprev到K</span></span><br><span class="line">      <span class="keyword">const</span> down = k === -d || (k !== d &amp;&amp; VForward[k - <span class="number">1</span>] &lt; VForward[k + <span class="number">1</span>])</span><br><span class="line">      <span class="keyword">const</span> kPrev = down ? k + <span class="number">1</span> : k - <span class="number">1</span></span><br><span class="line">      <span class="keyword">const</span> startX = VForward[kPrev]</span><br><span class="line">      <span class="keyword">const</span> startY = startX - kPrev</span><br><span class="line">      <span class="keyword">const</span> midX = down ? startX : startX + <span class="number">1</span></span><br><span class="line">      <span class="keyword">const</span> midY = midX - k</span><br><span class="line">      <span class="keyword">let</span> endX = midX</span><br><span class="line">      <span class="keyword">let</span> endY = midY</span><br><span class="line">      <span class="keyword">while</span> (endX &lt; N &amp;&amp; endY &lt; M &amp;&amp; A[a0 + endX] === B[b0 + endY]) &#123;</span><br><span class="line">        endX++</span><br><span class="line">        endY++</span><br><span class="line">      &#125;</span><br><span class="line">      VForward[k] = endX</span><br><span class="line">      <span class="comment">// 当delta为奇数时，运行到这里才有反向d = 正向d - 1，才需要返回middleSnake，</span></span><br><span class="line">      <span class="comment">// k &lt; delta - (d - 1) || k &gt; delta + (d - 1)是保证正向k没有超出上一轮反向k的范围</span></span><br><span class="line">      <span class="keyword">if</span> (!isOdd || k &lt; delta - (d - <span class="number">1</span>) || k &gt; delta + (d - <span class="number">1</span>)) <span class="keyword">continue</span></span><br><span class="line">      <span class="keyword">if</span> (VForward[k] &lt; VBackward[k]) <span class="keyword">continue</span></span><br><span class="line">      <span class="keyword">return</span> [<span class="number">2</span> * d - <span class="number">1</span>, down, startX, startY, midX, midY, endX, endY]</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 正向是以k = 0为中心，反向是以k = delta为中心</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> k = -d + delta; k &lt;= d + delta; k += <span class="number">2</span>) &#123;</span><br><span class="line">      <span class="comment">// 方向选择逻辑与正向相近</span></span><br><span class="line">      <span class="keyword">const</span> up = k === d + delta || (k !== -d + delta &amp;&amp; VBackward[k - <span class="number">1</span>] &lt; VBackward[k + <span class="number">1</span>])</span><br><span class="line">      <span class="keyword">const</span> kPrev = up ? k - <span class="number">1</span> : k + <span class="number">1</span></span><br><span class="line">      <span class="keyword">const</span> startX = VBackward[kPrev]</span><br><span class="line">      <span class="keyword">const</span> startY = startX - kPrev</span><br><span class="line">      <span class="keyword">const</span> midX = up ? startX : startX - <span class="number">1</span></span><br><span class="line">      <span class="keyword">const</span> midY = midX - k</span><br><span class="line">      <span class="keyword">let</span> endX = midX</span><br><span class="line">      <span class="keyword">let</span> endY = midY</span><br><span class="line">      <span class="keyword">while</span> (endX &gt; <span class="number">0</span> &amp;&amp; endY &gt; <span class="number">0</span> &amp;&amp; A[a0 + endX - <span class="number">1</span>] === B[b0 + endY - <span class="number">1</span>]) &#123;</span><br><span class="line">        endX--</span><br><span class="line">        endY--</span><br><span class="line">      &#125;</span><br><span class="line">      VBackward[k] = endX</span><br><span class="line">      <span class="comment">// 当delta为偶数时，运行到这里才有反向d = 正向，才需要返回middleSnake，</span></span><br><span class="line">      <span class="comment">// k &lt; -d || k &gt; d是保证反向k没有超出这一轮正向k的范围</span></span><br><span class="line">      <span class="keyword">if</span> (isOdd || k &lt; -d || k &gt; d) <span class="keyword">continue</span></span><br><span class="line">      <span class="keyword">if</span> (VBackward[k] &gt; VForward[k]) <span class="keyword">continue</span></span><br><span class="line">      <span class="keyword">return</span> [<span class="number">2</span> * d, up, endX, endY, midX, midY, startX, startY]</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">innerDiff</span>(<span class="params">A, a0, N, B, b0, M, VForward, VBackward</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> newOps = []</span><br><span class="line">  <span class="keyword">if</span> (M === <span class="number">0</span> &amp;&amp; N &gt; <span class="number">0</span>) newOps = [[DELETE, N]]</span><br><span class="line">  <span class="keyword">if</span> (N === <span class="number">0</span> &amp;&amp; M &gt; <span class="number">0</span>) newOps = [[INSERT, M]]</span><br><span class="line">  <span class="keyword">if</span> (M === <span class="number">0</span> || N === <span class="number">0</span>) <span class="keyword">return</span> newOps</span><br><span class="line">  <span class="keyword">const</span> middleSnake = calcMiddleSnake(A, a0, N, B, b0, M, VForward, VBackward)</span><br><span class="line">  <span class="keyword">const</span> startX = middleSnake[<span class="number">2</span>]</span><br><span class="line">  <span class="keyword">const</span> startY = middleSnake[<span class="number">3</span>]</span><br><span class="line">  <span class="keyword">const</span> midX = middleSnake[<span class="number">4</span>]</span><br><span class="line">  <span class="keyword">const</span> midY = middleSnake[<span class="number">5</span>]</span><br><span class="line">  <span class="keyword">const</span> endX = middleSnake[<span class="number">6</span>]</span><br><span class="line">  <span class="keyword">const</span> endY = middleSnake[<span class="number">7</span>]</span><br><span class="line">  <span class="keyword">const</span> D = middleSnake[<span class="number">0</span>]</span><br><span class="line">  <span class="keyword">const</span> isVertical = middleSnake[<span class="number">1</span>]</span><br><span class="line">  <span class="keyword">const</span> editOp = isVertical ? INSERT : DELETE</span><br><span class="line">  <span class="keyword">const</span> middleEditOps = []</span><br><span class="line">  <span class="comment">//确保点坐标的位置符合x:[0, N],y:[0, M]，才去添加middle snake的edit script</span></span><br><span class="line">  <span class="keyword">if</span> (midY &lt;= M &amp;&amp; startX &gt;= <span class="number">0</span> &amp;&amp; midX &lt;= N &amp;&amp; startY &gt;= <span class="number">0</span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> editLength1 = isVertical ? midY - startY : midX - startX</span><br><span class="line">    <span class="keyword">if</span> (editLength1) middleEditOps.push([(midY - startY === midX - startX) ? RETAIN : editOp, editLength1])</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">if</span> (midY &gt;= <span class="number">0</span> &amp;&amp; endX &lt;= N &amp;&amp; midX &gt;= <span class="number">0</span> &amp;&amp; endY &lt;= M) &#123;</span><br><span class="line">    <span class="keyword">let</span> editLength2 = isVertical ? endY - midY : endX - midX</span><br><span class="line">    <span class="keyword">if</span> (editLength2) middleEditOps.push([(endY - midY === endX - midX) ? RETAIN : editOp, editLength2])</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">if</span> (D &gt; <span class="number">1</span>) &#123;</span><br><span class="line">    <span class="comment">// diff左上角的编辑图</span></span><br><span class="line">    newOps = innerDiff(A, a0, startX, B, b0, startY, VForward, VBackward)</span><br><span class="line">    newOps.push(...middleEditOps)</span><br><span class="line">    <span class="comment">// diff右下角角的编辑图</span></span><br><span class="line">    newOps.push(...innerDiff(A, a0 + endX, N - endX, B, b0 + endY, M - endY, VForward, VBackward))</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">else</span> <span class="keyword">if</span> (D === <span class="number">0</span>) newOps.push(...middleEditOps)</span><br><span class="line">  <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (startX) newOps.push([RETAIN, startX])</span><br><span class="line">    newOps.push(...middleEditOps)</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> newOps</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">diff</span>(<span class="params">A, B</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> innerDiff(A, <span class="number">0</span>, A.length, B, <span class="number">0</span>, B.length, [], [])</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// test</span></span><br><span class="line">diff(<span class="string">'react is the best framework'</span>, <span class="string">'preact is the best library'</span>)</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">output:</span></span><br><span class="line"><span class="comment">0: ["insert", 1] insert 'p'</span></span><br><span class="line"><span class="comment">1: ["retain", 18] retain 'react is the best '</span></span><br><span class="line"><span class="comment">2: ["insert", 1] insert 'l'</span></span><br><span class="line"><span class="comment">3: ["insert", 1] insert 'i'</span></span><br><span class="line"><span class="comment">4: ["insert", 1] insert 'b'</span></span><br><span class="line"><span class="comment">5: ["delete", 1] delete 'f'</span></span><br><span class="line"><span class="comment">6: ["retain", 2] retain 'ra'</span></span><br><span class="line"><span class="comment">7: ["delete", 1] delete 'm'</span></span><br><span class="line"><span class="comment">8: ["delete", 2] delete 'ew'</span></span><br><span class="line"><span class="comment">9: ["delete", 1] delete 'o'</span></span><br><span class="line"><span class="comment">10: ["retain", 1] retain 'r'</span></span><br><span class="line"><span class="comment">11: ["insert", 1] insert 'y'</span></span><br><span class="line"><span class="comment">12: ["delete", 1] delete 'k'</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure></li>
</ol>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://sociosarbis.github.io/study-memo/2019/10/21/myer-diff/" data-id="ck2hl4c8800046gu1c2wx40k9" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/study-memo/tags/algorithm/">algorithm</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/study-memo/tags/diff/">diff</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-what-does-redux-like-state-management-library-do" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/study-memo/2019/05/12/what-does-redux-like-state-management-library-do/" class="article-date">
  <time datetime="2019-05-12T13:23:04.732Z" itemprop="datePublished">2019-05-12</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/study-memo/2019/05/12/what-does-redux-like-state-management-library-do/">像redux这样的状态管理库是用来做什么的</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h3><p>在这的很长一段之前，我一直都没有理解到为什么大型项目会需要redux这样状态管理库。因为我以前一直在觉得，redux做的无非只是把祖先的state无需通过一层层parent to child的props传递提供便利（这个功能react的context就可以做到了）和让改变数据的动作更加清晰而已。加上redux那一堆麻烦的定义文件，所以造成一直以来都不太愿意把数据放到store里面去。但是我的认识在这周发生了转变。</p>
<h3 id="正文"><a href="#正文" class="headerlink" title="正文"></a>正文</h3><p>这个转变源自于我需要做一个在同一个父组件下跟随子组件B进行view更新的子组件A。不使用store的情况就是父组件得到子组件B的变化，然后通过props传给子组件A，让子组件进行更新。可是，问题出现在，父组件也有因为涉及不当的原因，其render函数里包含了许许多多的子组件（许许多多是一个抽象的数字）。假如通过props传给子组件A，那么必然触发父组件的render方法，那么就需要一个个地去diff其下的这些子组件。这无疑是会损耗大量的性能。那么怎么解决呢。</p>
<p><strong>一个直觉的类比，我们可以像直接控制DOM一样直接让子组件A更新</strong><br>具体的做法，可以是通过ref获取到子组件A的实例，直接通过子组件A.setState的方式更新。虽然这种方法简单高效，但是这在react文档中是不推荐的，因为他让组件的关系变得复杂且难以预测，用某个学到的词来概括（反模式的），其实我的感觉就是这样子不够一般化，因为需要修改组件内部（这个跟react不提倡使用extends的方法创建组件的理由可能是一致的），添加ref。正确的模式其实还是应该通过传递props来引起更新。但是就会出现上面说的性能问题。这时候就要redux(准确上来讲是react-redux)的出场了。</p>
<p><strong>connect组件</strong><br>connect组件是react-redux提供的一个wrapper，包裹我们设计的组件形成一个高阶组件。这个wrapper主要的工作是监听store的变化，当store变化时，触发onStateUpate方法，通过用户定义好的mapStateToProps和mapDispatchToProps的方法从store中提取需要的数据设置到wrapper的state上，并在render时与非从store推导的props进行merge作为最终的props传到我们设计的组件中(如上面的子组件A)</p>
<p><strong>另一个启示</strong><br>上面的（暂且叫做）精准更新的需要的一个原因是避免有大量子Element的父组件，进行重新渲染。注意到大量这个词，也就是说，我们也可以通过减少父组件下子Element的数量，来提高性能。一个立刻能想到的可行性方案是，当父组件render的vdom间，所依赖的数据项有明显分解时，例如有分别依赖state.mails和state.friends产生列表项的，这时我们可以封装这两个列表项为两个组件并作为pureComponent，这样例如我们更新mails的时候就可以不进入friends列表项的render和HTMLElement diff阶段了了。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://sociosarbis.github.io/study-memo/2019/05/12/what-does-redux-like-state-management-library-do/" data-id="ck2hl4c8n000e6gu1xm3fn3w2" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/study-memo/tags/performance/">performance</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/study-memo/tags/react/">react</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/study-memo/tags/redux/">redux</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/study-memo/tags/store/">store</a></li></ul>

    </footer>
  </div>
  
</article>


  


  <nav id="page-nav">
    
    <span class="page-number current">1</span><a class="page-number" href="/study-memo/page/2/">2</a><a class="extend next" rel="next" href="/study-memo/page/2/">Next &raquo;</a>
  </nav>

</section>
        
          <aside id="sidebar">
  
    

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/study-memo/tags/AST/">AST</a></li><li class="tag-list-item"><a class="tag-list-link" href="/study-memo/tags/C/">C++</a></li><li class="tag-list-item"><a class="tag-list-link" href="/study-memo/tags/CLI/">CLI</a></li><li class="tag-list-item"><a class="tag-list-link" href="/study-memo/tags/CSS/">CSS</a></li><li class="tag-list-item"><a class="tag-list-link" href="/study-memo/tags/Clang/">Clang++</a></li><li class="tag-list-item"><a class="tag-list-link" href="/study-memo/tags/HTML/">HTML</a></li><li class="tag-list-item"><a class="tag-list-link" href="/study-memo/tags/HTTP/">HTTP</a></li><li class="tag-list-item"><a class="tag-list-link" href="/study-memo/tags/IIFE/">IIFE</a></li><li class="tag-list-item"><a class="tag-list-link" href="/study-memo/tags/Needleman-Wunsch/">Needleman-Wunsch</a></li><li class="tag-list-item"><a class="tag-list-link" href="/study-memo/tags/algorithm/">algorithm</a></li><li class="tag-list-item"><a class="tag-list-link" href="/study-memo/tags/diff/">diff</a></li><li class="tag-list-item"><a class="tag-list-link" href="/study-memo/tags/dll/">dll</a></li><li class="tag-list-item"><a class="tag-list-link" href="/study-memo/tags/eventloop/">eventloop</a></li><li class="tag-list-item"><a class="tag-list-link" href="/study-memo/tags/externals/">externals</a></li><li class="tag-list-item"><a class="tag-list-link" href="/study-memo/tags/git/">git</a></li><li class="tag-list-item"><a class="tag-list-link" href="/study-memo/tags/hoisting/">hoisting</a></li><li class="tag-list-item"><a class="tag-list-link" href="/study-memo/tags/interview/">interview</a></li><li class="tag-list-item"><a class="tag-list-link" href="/study-memo/tags/javascript/">javascript</a></li><li class="tag-list-item"><a class="tag-list-link" href="/study-memo/tags/meta/">meta</a></li><li class="tag-list-item"><a class="tag-list-link" href="/study-memo/tags/performance/">performance</a></li><li class="tag-list-item"><a class="tag-list-link" href="/study-memo/tags/promise/">promise</a></li><li class="tag-list-item"><a class="tag-list-link" href="/study-memo/tags/react/">react</a></li><li class="tag-list-item"><a class="tag-list-link" href="/study-memo/tags/redux/">redux</a></li><li class="tag-list-item"><a class="tag-list-link" href="/study-memo/tags/setTimeout/">setTimeout</a></li><li class="tag-list-item"><a class="tag-list-link" href="/study-memo/tags/sorting/">sorting</a></li><li class="tag-list-item"><a class="tag-list-link" href="/study-memo/tags/store/">store</a></li><li class="tag-list-item"><a class="tag-list-link" href="/study-memo/tags/template/">template</a></li><li class="tag-list-item"><a class="tag-list-link" href="/study-memo/tags/temporary-variable/">temporary variable</a></li><li class="tag-list-item"><a class="tag-list-link" href="/study-memo/tags/viewport/">viewport</a></li><li class="tag-list-item"><a class="tag-list-link" href="/study-memo/tags/vue/">vue</a></li><li class="tag-list-item"><a class="tag-list-link" href="/study-memo/tags/watcher/">watcher</a></li><li class="tag-list-item"><a class="tag-list-link" href="/study-memo/tags/webpack/">webpack</a></li><li class="tag-list-item"><a class="tag-list-link" href="/study-memo/tags/windows/">windows</a></li><li class="tag-list-item"><a class="tag-list-link" href="/study-memo/tags/立即执行函数/">立即执行函数</a></li><li class="tag-list-item"><a class="tag-list-link" href="/study-memo/tags/语义化/">语义化</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/study-memo/tags/AST/" style="font-size: 10px;">AST</a> <a href="/study-memo/tags/C/" style="font-size: 10px;">C++</a> <a href="/study-memo/tags/CLI/" style="font-size: 10px;">CLI</a> <a href="/study-memo/tags/CSS/" style="font-size: 10px;">CSS</a> <a href="/study-memo/tags/Clang/" style="font-size: 10px;">Clang++</a> <a href="/study-memo/tags/HTML/" style="font-size: 13.33px;">HTML</a> <a href="/study-memo/tags/HTTP/" style="font-size: 10px;">HTTP</a> <a href="/study-memo/tags/IIFE/" style="font-size: 10px;">IIFE</a> <a href="/study-memo/tags/Needleman-Wunsch/" style="font-size: 10px;">Needleman-Wunsch</a> <a href="/study-memo/tags/algorithm/" style="font-size: 16.67px;">algorithm</a> <a href="/study-memo/tags/diff/" style="font-size: 10px;">diff</a> <a href="/study-memo/tags/dll/" style="font-size: 10px;">dll</a> <a href="/study-memo/tags/eventloop/" style="font-size: 10px;">eventloop</a> <a href="/study-memo/tags/externals/" style="font-size: 10px;">externals</a> <a href="/study-memo/tags/git/" style="font-size: 10px;">git</a> <a href="/study-memo/tags/hoisting/" style="font-size: 10px;">hoisting</a> <a href="/study-memo/tags/interview/" style="font-size: 20px;">interview</a> <a href="/study-memo/tags/javascript/" style="font-size: 16.67px;">javascript</a> <a href="/study-memo/tags/meta/" style="font-size: 10px;">meta</a> <a href="/study-memo/tags/performance/" style="font-size: 10px;">performance</a> <a href="/study-memo/tags/promise/" style="font-size: 10px;">promise</a> <a href="/study-memo/tags/react/" style="font-size: 10px;">react</a> <a href="/study-memo/tags/redux/" style="font-size: 10px;">redux</a> <a href="/study-memo/tags/setTimeout/" style="font-size: 10px;">setTimeout</a> <a href="/study-memo/tags/sorting/" style="font-size: 10px;">sorting</a> <a href="/study-memo/tags/store/" style="font-size: 10px;">store</a> <a href="/study-memo/tags/template/" style="font-size: 10px;">template</a> <a href="/study-memo/tags/temporary-variable/" style="font-size: 10px;">temporary variable</a> <a href="/study-memo/tags/viewport/" style="font-size: 10px;">viewport</a> <a href="/study-memo/tags/vue/" style="font-size: 13.33px;">vue</a> <a href="/study-memo/tags/watcher/" style="font-size: 10px;">watcher</a> <a href="/study-memo/tags/webpack/" style="font-size: 10px;">webpack</a> <a href="/study-memo/tags/windows/" style="font-size: 10px;">windows</a> <a href="/study-memo/tags/立即执行函数/" style="font-size: 10px;">立即执行函数</a> <a href="/study-memo/tags/语义化/" style="font-size: 10px;">语义化</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/study-memo/archives/2019/11/">November 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/study-memo/archives/2019/10/">October 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/study-memo/archives/2019/05/">May 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/study-memo/archives/2019/03/">March 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/study-memo/archives/2019/01/">January 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/study-memo/archives/2018/12/">December 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/study-memo/archives/2018/11/">November 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/study-memo/archives/2018/10/">October 2018</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/study-memo/2019/11/04/web-front-end-knowledge-memo(Algorithm)-ep1/">web前端知识学习笔记-算法篇(1)</a>
          </li>
        
          <li>
            <a href="/study-memo/2019/11/03/web-front-end-knowledge-memo(Network)-ep1/">web前端知识学习笔记-网络篇(1)</a>
          </li>
        
          <li>
            <a href="/study-memo/2019/11/02/web-front-end-knowledge-memo(JS)-ep3/">web前端知识学习笔记-JS篇(3)</a>
          </li>
        
          <li>
            <a href="/study-memo/2019/11/02/web-front-end-knowledge-memo(JS)-ep2/">web前端知识学习笔记-JS篇(2)</a>
          </li>
        
          <li>
            <a href="/study-memo/2019/11/02/web-front-end-knowledge-memo(JS)-ep1/">web前端知识学习笔记-JS篇(1)</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2019 Sociosarbis<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/study-memo/" class="mobile-nav-link">Home</a>
  
    <a href="/study-memo/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/study-memo/fancybox/jquery.fancybox.css">
  <script src="/study-memo/fancybox/jquery.fancybox.pack.js"></script>


<script src="/study-memo/js/script.js"></script>



  </div>
</body>
</html>